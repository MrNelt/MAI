#include <stdio.h>
#include <math.h>


int main() {
    double S, p, x, a = 0.2, b, h, eps = 1;
    int n;
    while (1 + eps > 1) {
        eps /= 2;
    }
    b = 0.7;
    h = (b - a) / 10;
    printf("Машинное эпсилон = %21.19f\n\n", eps);
    printf("------------------------------------------------------------------------\n");
    printf("|   x  |             S             |         0.5*ln(x)         |   n   |\n");
    printf("------------------------------------------------------------------------\n");
    for (x = a; x <= b + 0.001; x += h) {
        n = 1;
        S = p = (x - 1) / (x + 1);
        while (-p > eps) { //  fabs(x)> eps
            p = p * ((x - 1) / (x + 1)) * ((x - 1) / (x + 1)) * (2 * (n - 1) + 1) / (2 * n + 1);
            S += p;
            n++;
        }
        printf("| %4.2f |  %21.19f   |  %21.19f   |  %3d  |\n", x, S, 0.5 * log(x), n);
    }
    printf("------------------------------------------------------------------------\n");
    return 0;
}
